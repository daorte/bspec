/*
 * bspec - A JavaScript library for structuring business rules
 * @version v0.10.0
 * @author Grigoriy Chudnov <g.chudnov@gmail.com> (https://github.com/gchudnov)
 * @link https://github.com/gchudnov/bspec
 * @license MIT
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.bspec=t()}}(function(){return function t(i,n,e){function r(s,u){if(!n[s]){if(!i[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};i[s][0].call(p.exports,function(t){var n=i[s][1][t];return r(n?n:t)},p,p.exports,t,i,n,e)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)r(e[s]);return r}({1:[function(t,i){"use strict";var n=t("./detail/callback"),e=t("./detail/sync");i.exports.CallbackSpec=n,i.exports.SyncSpec=e},{"./detail/callback":2,"./detail/sync":3}],2:[function(t,i){"use strict";function n(){return arguments.length?s.ensureSpec(arguments[0],n):void 0}function e(t,i){n.call(this),this.lhs=t,this.rhs=i}function r(t,i){n.call(this),this.lhs=t,this.rhs=i}function o(t){n.call(this),this.other=t}var s=t("./util");n.prototype.isSatisfiedBy=function(t,i){i(new Error("isSatisfiedBy not implemented"))},n.prototype.and=function(t){return t=s.ensureSpec(t,n),new e(this,t)},n.prototype.or=function(t){return t=s.ensureSpec(t,n),new r(this,t)},n.prototype.not=function(){return new o(this)},n.prototype.explain=function(){return s.functionName(this.constructor)},s.inherits(e,n),e.prototype.isSatisfiedBy=function(t,i){var n=this;n.lhs.isSatisfiedBy(t,function(e,r){return e?i(e):r?void n.rhs.isSatisfiedBy(t,function(t,n){return t?i(t):i(null,n)}):i(null,r)})},e.prototype.explain=function(){return"("+this.lhs.explain()+" AND "+this.rhs.explain()+")"},s.inherits(r,n),r.prototype.isSatisfiedBy=function(t,i){var n=this;n.lhs.isSatisfiedBy(t,function(e,r){return e?i(e):r?i(null,r):void n.rhs.isSatisfiedBy(t,function(t,n){return t?i(t):i(null,n)})})},r.prototype.explain=function(){return"("+this.lhs.explain()+" OR "+this.rhs.explain()+")"},s.inherits(o,n),o.prototype.isSatisfiedBy=function(t,i){this.other.isSatisfiedBy(t,function(t,n){return t?i(t):i(null,!n)})},o.prototype.explain=function(){return"(NOT "+this.other.explain()+")"},i.exports=n},{"./util":4}],3:[function(t,i){"use strict";function n(){return arguments.length?s.ensureSpec(arguments[0],n):void 0}function e(t,i){n.call(this),this.lhs=t,this.rhs=i}function r(t,i){n.call(this),this.lhs=t,this.rhs=i}function o(t){n.call(this),this.other=t}var s=t("./util");n.prototype.isSatisfiedBy=function(){throw new Error("isSatisfiedBy not implemented")},n.prototype.and=function(t){return t=s.ensureSpec(t,n),new e(this,t)},n.prototype.or=function(t){return t=s.ensureSpec(t,n),new r(this,t)},n.prototype.not=function(){return new o(this)},n.prototype.explain=function(){return s.functionName(this.constructor)},s.inherits(e,n),e.prototype.isSatisfiedBy=function(t){return this.lhs.isSatisfiedBy(t)&&this.rhs.isSatisfiedBy(t)},e.prototype.explain=function(){return"("+this.lhs.explain()+" AND "+this.rhs.explain()+")"},s.inherits(r,n),r.prototype.isSatisfiedBy=function(t){return this.lhs.isSatisfiedBy(t)||this.rhs.isSatisfiedBy(t)},r.prototype.explain=function(){return"("+this.lhs.explain()+" OR "+this.rhs.explain()+")"},s.inherits(o,n),o.prototype.isSatisfiedBy=function(t){return!this.other.isSatisfiedBy(t)},o.prototype.explain=function(){return"(NOT "+this.other.explain()+")"},i.exports=n},{"./util":4}],4:[function(t,i,n){"use strict";function e(t){return t.name?t.name:t.toString().match(p)[1]}function r(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}function o(t){return"function"==typeof t}function s(t){return null!==t&&"object"==typeof t}function u(t,i){return t&&(o(t)||s(t)&&"isSatisfiedBy"in t&&o(t.isSatisfiedBy)||t instanceof i)}function f(t,i){function n(){i.call(this)}return r(n,i),n.prototype.isSatisfiedBy="isSatisfiedBy"in t?t.isSatisfiedBy.bind(t):t,new n}function c(t,i){if(!u(t,i))throw new Error("invalid argument: must be a function, spec-like or spec object");return t instanceof i?t:f(t,i)}n.functionName=e,n.inherits=r,n.ensureSpec=c;var p=/^\s*function\s*(\S*)\s*\(/},{}]},{},[1])(1)});
/*
 * bspec - A JavaScript library for structuring business rules
 * @version v0.9.0
 * @author Grigoriy Chudnov <g.chudnov@gmail.com> (https://github.com/gchudnov)
 * @link https://github.com/gchudnov/bspec
 * @license MIT
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i;"undefined"!=typeof window?i=window:"undefined"!=typeof global?i=global:"undefined"!=typeof self&&(i=self),i.bspec=t()}}(function(){return function t(i,n,e){function r(s,u){if(!n[s]){if(!i[s]){var f="function"==typeof require&&require;if(!u&&f)return f(s,!0);if(o)return o(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var h=n[s]={exports:{}};i[s][0].call(h.exports,function(t){var n=i[s][1][t];return r(n?n:t)},h,h.exports,t,i,n,e)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<e.length;s++)r(e[s]);return r}({1:[function(t,i,n){"use strict";function e(){}function r(t,i){e.call(this),this.lhs=t,this.rhs=i}function o(t,i){e.call(this),this.lhs=t,this.rhs=i}function s(t){e.call(this),this.other=t}function u(t){function i(){e.call(this)}return l.inherits(i,e),i.prototype.isSatisfiedBy=t,new i}function f(){}function p(t,i){f.call(this),this.lhs=t,this.rhs=i}function h(t,i){f.call(this),this.lhs=t,this.rhs=i}function c(t){f.call(this),this.other=t}function a(t){function i(){f.call(this)}return l.inherits(i,f),i.prototype.isSatisfiedBy=t,new i}var l=t("./util");e.prototype.isSatisfiedBy=function(t,i){i(new Error("isSatisfiedBy not implemented"))},e.prototype.and=function(t){return new r(this,t)},e.prototype.or=function(t){return new o(this,t)},e.prototype.not=function(){return new s(this)},e.prototype.explain=function(){return l.functionName(this.constructor)},n.Spec=e,l.inherits(r,e),r.prototype.isSatisfiedBy=function(t,i){var n=this;n.lhs.isSatisfiedBy(t,function(e,r){return e?i(e):r?void n.rhs.isSatisfiedBy(t,function(t,n){return t?i(t):i(null,n)}):i(null,r)})},r.prototype.explain=function(){return"("+this.lhs.explain()+" AND "+this.rhs.explain()+")"},l.inherits(o,e),o.prototype.isSatisfiedBy=function(t,i){var n=this;n.lhs.isSatisfiedBy(t,function(e,r){return e&&i(e),r?i(null,r):void n.rhs.isSatisfiedBy(t,function(t,n){return t?i(t):void i(null,n)})})},o.prototype.explain=function(){return"("+this.lhs.explain()+" OR "+this.rhs.explain()+")"},l.inherits(s,e),s.prototype.isSatisfiedBy=function(t,i){this.other.isSatisfiedBy(t,function(t,n){return t?i(t):void i(null,!n)})},s.prototype.explain=function(){return"(NOT "+this.other.explain()+")"},n.make=u,f.prototype.isSatisfiedBy=function(){throw new Error("isSatisfiedBy not implemented")},f.prototype.and=function(t){return new p(this,t)},f.prototype.or=function(t){return new h(this,t)},f.prototype.not=function(){return new c(this)},f.prototype.explain=function(){return l.functionName(this.constructor)},n.SyncSpec=f,l.inherits(p,f),p.prototype.isSatisfiedBy=function(t){return this.lhs.isSatisfiedBy(t)&&this.rhs.isSatisfiedBy(t)},p.prototype.explain=function(){return"("+this.lhs.explain()+" AND "+this.rhs.explain()+")"},l.inherits(h,f),h.prototype.isSatisfiedBy=function(t){return this.lhs.isSatisfiedBy(t)||this.rhs.isSatisfiedBy(t)},h.prototype.explain=function(){return"("+this.lhs.explain()+" OR "+this.rhs.explain()+")"},l.inherits(c,f),c.prototype.isSatisfiedBy=function(t){return!this.other.isSatisfiedBy(t)},c.prototype.explain=function(){return"(NOT "+this.other.explain()+")"},n.makeSync=a},{"./util":2}],2:[function(t,i,n){"use strict";var e=/^\s*function\s*(\S*)\s*\(/;n.functionName=function(t){return t.name?t.name:t.toString().match(e)[1]},n.inherits=function(t,i){t.super_=i,t.prototype=Object.create(i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}},{}]},{},[1])(1)});